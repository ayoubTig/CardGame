(function(e){function t(t){for(var a,o,n=t[0],d=t[1],i=t[2],b=0,u=[];b<n.length;b++)o=n[b],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a]);l&&l(t);while(u.length)u.shift()();return c.push.apply(c,i||[]),s()}function s(){for(var e,t=0;t<c.length;t++){for(var s=c[t],a=!0,n=1;n<s.length;n++){var d=s[n];0!==r[d]&&(a=!1)}a&&(c.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},r={app:0},c=[];function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],d=n.push.bind(n);n.push=t,n=n.slice();for(var i=0;i<n.length;i++)t(n[i]);var l=d;c.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"196c":function(e,t,s){"use strict";s("2c07")},"2c07":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("7a23");const r={id:"app card"},c=Object(a["h"])("div",{class:"card-header fs-20 fw-600 my-3"},[Object(a["h"])("i",{class:"mdi mdi-cards-playing fs-22"}),Object(a["i"])(" Jeux des cartes "),Object(a["h"])("i",{class:"mdi mdi-cards-playing fs-22"})],-1),o={class:"card-body"},n=Object(a["h"])("footer",{id:"footer",class:"site-footer"},[Object(a["h"])("div",{class:"container text-center"},[Object(a["h"])("span",{class:"text-muted fs-12"},[Object(a["h"])("i",{class:"mdi mdi-copyright","aria-hidden":"true"}),Object(a["i"])(" Ayoub tigoudern 2023 ")])])],-1);function d(e,t,s,d,i,l){const b=Object(a["F"])("router-view");return Object(a["y"])(),Object(a["g"])(a["a"],null,[Object(a["h"])("div",r,[c,Object(a["h"])("div",o,[Object(a["j"])(b)])]),n],64)}var i={name:"App"},l=(s("6698"),s("d959")),b=s.n(l);const u=b()(i,[["render",d]]);var p=u,h=s("6605");const m={class:"card card-container shadow-none"},j=Object(a["h"])("h1",null," Jeux des cartes ",-1),O={class:"box rounded-box shadow-2 form-type-material position-relative"},f={class:"form-group mb-2 flexbox"},y={class:"w-100"},g=Object(a["h"])("label",{class:"required",for:"username"},"Nom d'utilisateur",-1),v={class:"form-group mb-2 flexbox"},w={class:"w-106"},x=Object(a["h"])("label",{class:"required",for:"password"},"Mot de passe",-1),S={key:0,class:"invalid-feedback d-block"},C=Object(a["h"])("div",{class:"text-center"},[Object(a["h"])("button",{class:"btn btn-round btn-custom"},[Object(a["h"])("span",null,"Se connecter")])],-1);function k(e,t,s,r,c,o){const n=Object(a["F"])("Field"),d=Object(a["F"])("ErrorMessage"),i=Object(a["F"])("Form");return Object(a["y"])(),Object(a["g"])("div",m,[j,Object(a["h"])("div",O,[Object(a["j"])(i,{onSubmit:o.validateBeforeSubmit,"validation-schema":c.schema},{default:Object(a["Q"])(({errors:e})=>[Object(a["h"])("div",f,[Object(a["h"])("div",y,[Object(a["j"])(n,{name:"username",type:"text",class:Object(a["s"])(["form-control w-100",{"is-invalid":e.username}]),required:"",modelValue:c.username,"onUpdate:modelValue":t[0]||(t[0]=e=>c.username=e)},null,8,["class","modelValue"]),g,Object(a["j"])(d,{name:"username",class:"invalid-feedback"})])]),Object(a["h"])("div",v,[Object(a["h"])("div",w,[Object(a["j"])(n,{name:"password",type:""+c.type,class:Object(a["s"])(["form-control w-106",{"is-invalid":e.password}]),required:"",modelValue:c.password,"onUpdate:modelValue":t[1]||(t[1]=e=>c.password=e)},null,8,["type","class","modelValue"]),x,Object(a["j"])(d,{name:"password",class:"invalid-feedback"})]),Object(a["h"])("span",{class:Object(a["s"])("text"==c.type?"mdi mdi-eye-outline fs-20 cursor-pointer":"mdi mdi-eye-off-outline fs-20 cursor-pointer"),onClick:t[2]||(t[2]=e=>o.showPassword())},null,2)]),c.error?(Object(a["y"])(),Object(a["g"])("div",S," Nom d'utilisateur ou mot de passe incorrecte ")):Object(a["f"])("",!0),C]),_:1},8,["onSubmit","validation-schema"])])])}s("14d9");var P=s("7bb1"),I=s("506a"),E={name:"Login",components:{Form:P["c"],Field:P["b"],ErrorMessage:P["a"]},data(){const e=I["a"]().shape({username:I["b"]().required("nom d'utilisateur est obligatoire"),password:I["b"]().required("Le mot de passe est obligatoire")});return{username:"",password:"",error:!1,schema:e,type:"password"}},mounted(){fetch("/api/credentials").then(async e=>{if(e.ok){const t=await e.json();localStorage.getItem("user-username")===t.username&&localStorage.getItem("user-password")===t.password&&(this.error=!1,se.push("/game").catch(()=>{}))}})},methods:{validateBeforeSubmit(){if(this.username&&this.password){const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})};fetch("/api/login",e).then(async e=>{console.log("response ==> ",e.text),e.ok?(this.error=!1,localStorage.setItem("user-username",this.username),localStorage.setItem("user-password",this.password),se.push("/game").catch(()=>{})):this.error=!0})}},showPassword(){"password"==this.type?this.type="text":"text"==this.type&&(this.type="password")}}};const T=b()(E,[["render",k]]);var _=T;const F={class:"container mx-auto my-3 card-body"},M={class:"text-center my-3"},q=["disabled"],B=Object(a["h"])("span",null,[Object(a["i"])("Disribuer Ã  nouveaux les cartes "),Object(a["h"])("i",{class:"mdi mdi-cards-playing-outline"})],-1),V=[B],J=["disabled"],A=Object(a["h"])("span",null,[Object(a["i"])("Trier les cartes "),Object(a["h"])("i",{class:"mdi mdi-sort-alphabetical-ascending"})],-1),R=[A];function L(e,t,s,r,c,o){const n=Object(a["F"])("Card");return Object(a["y"])(),Object(a["g"])("div",F,[Object(a["j"])(a["b"],{name:"x",tag:"div",class:"flexbox"},{default:Object(a["Q"])(()=>[(Object(a["y"])(!0),Object(a["g"])(a["a"],null,Object(a["E"])(c.handCards,e=>(Object(a["y"])(),Object(a["g"])("span",{key:e.id},[Object(a["j"])(n,{card:e},null,8,["card"])]))),128))]),_:1}),Object(a["h"])("div",M,[Object(a["h"])("button",{class:"btn btn-round btn-custom col",onClick:t[0]||(t[0]=e=>o.getHandCards()),disabled:c.disabledBtn},V,8,q),Object(a["R"])(Object(a["h"])("button",{class:"btn btn-round btn-custom col",onClick:t[1]||(t[1]=e=>o.sortCards()),disabled:c.disabledBtn},R,8,J),[[a["M"],!c.cardsIsSorted]])]),c.cardsIsSorted?(Object(a["y"])(),Object(a["e"])(a["b"],{key:0,name:"y",tag:"div",class:"flexbox"},{default:Object(a["Q"])(()=>[(Object(a["y"])(!0),Object(a["g"])(a["a"],null,Object(a["E"])(c.sortedCards,e=>(Object(a["y"])(),Object(a["g"])("span",{key:e.id},[Object(a["j"])(n,{card:e},null,8,["card"])]))),128))]),_:1})):Object(a["f"])("",!0)])}const U={class:"card-icon position-absolute top-0 end-0 pt-2"},H={key:0,class:"mdi mdi-cards-club-outline"},N={key:1,class:"mdi mdi-heart"},Q={key:2,class:"mdi mdi-cards-diamond"},G={key:3,class:"mdi mdi-cards-spade"},$={class:"card-value"};function z(e,t,s,r,c,o){const n=Object(a["G"])("tippy");return Object(a["R"])((Object(a["y"])(),Object(a["g"])("div",{class:Object(a["s"])(["card bg-gray-lighter",s.card.color.toLowerCase()])},[Object(a["h"])("div",U,["TREFLE"===s.card.color?(Object(a["y"])(),Object(a["g"])("span",H)):"COEUR"===s.card.color?(Object(a["y"])(),Object(a["g"])("span",N)):"CARREAUX"===s.card.color?(Object(a["y"])(),Object(a["g"])("span",Q)):"PIQUE"===s.card.color?(Object(a["y"])(),Object(a["g"])("span",G)):Object(a["f"])("",!0)]),Object(a["h"])("div",$,Object(a["J"])(s.card.valueVal),1)],2)),[[n,{content:`Carte${s.card.valueVal}/${s.card.color}`,placement:"top"}]])}var D={props:{card:{type:Object,required:!0}}};s("a359");const X=b()(D,[["render",z],["__scopeId","data-v-4f9e3113"]]);var K=X,W={name:"game",components:{Card:K},data(){return{handCards:{},error:!1,username:"player",userPassword:"player",sortedCards:{},cardsIsSorted:!1,disabledBtn:!1}},created(){this.getHandCards()},methods:{getHandCards(){this.cardsIsSorted=!1,this.disabledBtn=!0;const e={method:"GET",headers:{"Content-Type":"application/json"}};fetch("/api/game/hand-cards/"+this.username+"/"+this.userPassword,e).then(async e=>{e.ok?(this.handCards=await e.json(),this.error=!1,this.disabledBtn=!1):this.error=!0})},sortCards(){this.cardsIsSorted=!0,this.disabledBtn=!0;const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.handCards)};fetch("/api/game/sort-hand-cards",e).then(async e=>{console.log("response ==> ",e.text),e.ok?(this.sortedCards=await e.json(),this.error=!1,this.disabledBtn=!1):this.error=!0})}}};s("196c");const Y=b()(W,[["render",L]]);var Z=Y;const ee=[{path:"/game",name:"game",component:Z,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:_},{path:"/:pathMatch(.*)*",component:_}],te=Object(h["a"])({history:Object(h["b"])(),routes:ee});te.beforeEach((e,t,s)=>{e.meta.requiresAuth?localStorage.getItem("user-password")?s():s("/login"):s()});var se=te,ae=(s("0deb"),s("ab8b"),s("5aea"),s("41e6"),s("c4e7"));s("52df"),s("ffda"),s("b91c");const re={directive:"tippy",component:"tippy",componentSingleton:"tippy-singleton",defaultProps:{placement:"auto",allowHTML:!0,theme:"light-border",animation:"scale",arrow:!0,interactive:!0,touch:!0,zIndex:9999}};Object(a["d"])(p).use(ae["a"],re).use(se).mount("#app")},"5aea":function(e,t,s){},6698:function(e,t,s){"use strict";s("818d")},"818d":function(e,t,s){},a359:function(e,t,s){"use strict";s("c670")},c670:function(e,t,s){}});
//# sourceMappingURL=app.d32cb743.js.map